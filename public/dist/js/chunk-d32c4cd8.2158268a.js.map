{"version":3,"sources":["webpack:///./src/views/pages/dashboard/users/index.vue?97ec","webpack:///src/views/pages/dashboard/users/index.vue","webpack:///./src/views/pages/dashboard/users/index.vue?a0ff","webpack:///./src/views/pages/dashboard/users/index.vue","webpack:///./src/components/ListingTable.vue?e35e","webpack:///src/components/ListingTable.vue","webpack:///./src/components/ListingTable.vue?185a","webpack:///./src/components/ListingTable.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","title","items","fields","users","options","staticRenderFns","component","staticClass","_v","_s","pageOptions","model","value","callback","$$v","perPage","expression","filter","currentPage","sortBy","sortDesc","filterOn","on","$event","onFiltered","scopedSlots","_u","key","fn","row","userRole","item","status","path","split","directives","name","rawName","modifiers","$t","params","userID","documentID","id","_e","email","substr","editRouteName","deleteRow","data","preventDefault","changeStatus","rows","props","type","Array","required","Object","totalRows","resultIsLoading","computed","length","mounted","created","$store","dispatch","then","methods","filteredItems","deleteActionName","rowId"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQN,EAAIO,MAAM,MAAQP,EAAIQ,SAASJ,EAAG,aAAa,CAACE,MAAM,CAAC,OAASN,EAAIS,OAAO,MAAQT,EAAIU,MAAM,QAAUV,EAAIW,YAAY,IAChQC,EAAkB,G,oCCUtB,GACE,WAAF,CACI,OAAJ,OACI,WAAJ,OACI,UAAJ,QAEE,KANF,WAOI,MAAJ,CACM,MAAN,+BAGE,SAAF,CACI,MADJ,WAEM,MAAN,CACA,CACQ,KAAR,qCAEA,CACQ,KAAR,6BACQ,QAAR,KAII,OAZJ,WAaM,MAAN,CACA,CAAQ,IAAR,OAAQ,UAAR,EAAQ,MAAR,8BACA,CAAQ,IAAR,QAAQ,UAAR,EAAQ,MAAR,+BACA,CAAQ,IAAR,OAAQ,UAAR,EAAQ,MAAR,8BACA,CAAQ,IAAR,UAAQ,UAAR,EAAQ,MAAR,iCACA,CAAQ,IAAR,YAGI,QArBJ,WAsBM,MAAN,CACQ,cAAR,YACQ,iBAAR,uBACQ,MAAR,gCAGI,MA5BJ,WA6BM,OAAN,qCAGE,QA3CF,WA4CI,QAAJ,gBACI,KAAJ,oCCxD4X,I,YCOxXC,EAAY,eACd,EACAd,EACAa,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,2CClBf,IAAId,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACU,YAAY,QAAQ,CAACV,EAAG,MAAM,CAACU,YAAY,aAAa,CAACV,EAAG,KAAK,CAACU,YAAY,mBAAmB,CAACd,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIW,QAAQJ,UAAUH,EAAG,MAAM,CAACU,YAAY,YAAY,CAACV,EAAG,MAAM,CAACU,YAAY,sBAAsB,CAACV,EAAG,MAAM,CAACU,YAAY,oBAAoBR,MAAM,CAAC,GAAK,yBAAyB,CAACF,EAAG,QAAQ,CAACU,YAAY,oCAAoC,CAACd,EAAIe,GAAG,UAAUX,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAO,KAAK,QAAUN,EAAIiB,aAAaC,MAAM,CAACC,MAAOnB,EAAW,QAAEoB,SAAS,SAAUC,GAAMrB,EAAIsB,QAAQD,GAAKE,WAAW,aAAavB,EAAIe,GAAG,cAAc,OAAOX,EAAG,MAAM,CAACU,YAAY,sBAAsB,CAACV,EAAG,MAAM,CAACU,YAAY,kCAAkCR,MAAM,CAAC,GAAK,yBAAyB,CAACF,EAAG,QAAQ,CAACU,YAAY,oCAAoC,CAACd,EAAIe,GAAG,aAAaX,EAAG,eAAe,CAACU,YAAY,oCAAoCR,MAAM,CAAC,KAAO,UAAUY,MAAM,CAACC,MAAOnB,EAAU,OAAEoB,SAAS,SAAUC,GAAMrB,EAAIwB,OAAOH,GAAKE,WAAW,aAAa,SAASnB,EAAG,MAAM,CAACU,YAAY,oBAAoB,CAACV,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQN,EAAIQ,MAAM,OAASR,EAAIS,OAAO,WAAa,KAAK,WAAWT,EAAIsB,QAAQ,eAAetB,EAAIyB,YAAY,UAAUzB,EAAI0B,OAAO,YAAY1B,EAAI2B,SAAS,OAAS3B,EAAIwB,OAAO,yBAAyBxB,EAAI4B,UAAUC,GAAG,CAAC,gBAAgB,SAASC,GAAQ9B,EAAI0B,OAAOI,GAAQ,iBAAiB,SAASA,GAAQ9B,EAAI0B,OAAOI,GAAQ,kBAAkB,SAASA,GAAQ9B,EAAI2B,SAASG,GAAQ,mBAAmB,SAASA,GAAQ9B,EAAI2B,SAASG,GAAQ,SAAW9B,EAAI+B,YAAYC,YAAYhC,EAAIiC,GAAG,CAAC,CAACC,IAAI,eAAeC,GAAG,SAASC,GAAK,MAAO,CAAkB,SAAhBpC,EAAIqC,UAA0C,YAAnBD,EAAIE,KAAKC,QAAuD,OAA/BH,EAAIE,KAAKE,KAAKC,MAAM,KAAK,GAAarC,EAAG,cAAc,CAACsC,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,oBAAoBC,UAAU,CAAC,OAAQ,KAAQ/B,YAAY,iBAAiBR,MAAM,CAAC,cAAc,UAAU,MAAQN,EAAI8C,GAAG,4BAA4B,GAAK,CAACH,KAAK,qBAAqBI,OAAO,CAACC,OAAOhD,EAAIW,QAAQqC,OAAQC,WAAYb,EAAIE,KAAKY,OAAO,CAAC9C,EAAG,IAAI,CAACU,YAAY,mCAAmCd,EAAImD,KAAMnD,EAAmB,gBAAEI,EAAG,OAAO,CAACJ,EAAIe,GAAG,aAAaf,EAAImD,KAAsB,SAAhBnD,EAAIqC,UAAuBD,EAAIE,KAAKc,MAAOhD,EAAG,cAAc,CAACsC,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,oBAAoBC,UAAU,CAAC,OAAQ,KAAQ/B,YAAY,oBAAoBR,MAAM,CAAC,GAAK,CAACqC,KAAK,iBAAiBI,OAAO,CAACG,GAAGd,EAAIE,KAAKY,KAAK,cAAc,UAAU,MAAQlD,EAAI8C,GAAG,oCAAoC,CAAC1C,EAAG,IAAI,CAACU,YAAY,sCAAsCd,EAAImD,KAAMf,EAAIE,KAAS,KAAElC,EAAG,IAAI,CAACsC,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,oBAAoBC,UAAU,CAAC,OAAQ,KAAQ/B,YAAY,oBAAoBR,MAAM,CAAC,OAAS,SAAS,cAAc,UAAU,MAAQN,EAAI8C,GAAG,yBAAyB,KAAQ,yBAA4BV,EAAIE,KAAKE,KAAKa,OAAO,KAAO,CAACjD,EAAG,IAAI,CAACU,YAAY,+BAA+Bd,EAAImD,KAAK/C,EAAG,cAAc,CAACsC,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,oBAAoBC,UAAU,CAAC,OAAQ,KAAQ/B,YAAY,sBAAsBR,MAAM,CAAC,GAAK,CAACqC,KAAK3C,EAAIW,QAAQ2C,cAAcP,OAAO,CAACG,GAAGd,EAAIE,KAAKY,KAAK,cAAc,UAAU,MAAQlD,EAAI8C,GAAG,2BAA2B,CAAC1C,EAAG,IAAI,CAACU,YAAY,gCAAgCV,EAAG,IAAI,CAACsC,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,oBAAoBC,UAAU,CAAC,OAAQ,KAAQ/B,YAAY,cAAcR,MAAM,CAAC,KAAO,sBAAsB,MAAQN,EAAI8C,GAAG,4BAA4BjB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9B,EAAIuD,UAAUnB,EAAIE,KAAKY,OAAO,CAAC9C,EAAG,IAAI,CAACU,YAAY,yCAAyC,CAACoB,IAAI,gBAAgBC,GAAG,SAASqB,GAAM,MAAO,CAACxD,EAAIe,GAAG,IAAIf,EAAIgB,GAAGwC,EAAKrC,MAAQqC,EAAKrC,MAAMkC,OAAO,EAAE,IAAM,IAAI,QAAQ,CAACnB,IAAI,eAAeC,GAAG,SAASqB,GAAM,MAAO,CAACxD,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI8C,GAAI,iCAAoCU,EAAU,QAAK,QAAQ,CAACtB,IAAI,aAAaC,GAAG,SAASqB,GAAM,MAAO,CAACxD,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI8C,GAAI,2BAA8BU,EAAU,QAAK,QAAQ,CAACtB,IAAI,gBAAgBC,GAAG,SAASqB,GAAM,MAAO,CAAsB,YAApBA,EAAKlB,KAAKC,OAAsBnC,EAAG,IAAI,CAACsC,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,oBAAoBC,UAAU,CAAC,OAAQ,KAAQ/B,YAAY,oBAAoBR,MAAM,CAAC,cAAc,UAAU,MAAQ,WAAWuB,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAO2B,iBAAwBzD,EAAI0D,aAAa,CAACnB,OAAO,WAAWU,WAAWO,EAAKlB,KAAKY,QAAQ,CAAC9C,EAAG,IAAI,CAACU,YAAY,iCAAiCd,EAAImD,KAAK/C,EAAG,IAAI,CAACsC,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,oBAAoBC,UAAU,CAAC,OAAQ,KAAQ/B,YAAY,mBAAmBR,MAAM,CAAC,cAAc,UAAU,MAAQ,WAAWuB,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAO2B,iBAAwBzD,EAAI0D,aAAa,CAACnB,OAAO,WAAWU,WAAWO,EAAKlB,KAAKY,QAAQ,CAAC9C,EAAG,IAAI,CAACU,YAAY,oCAAoC,CAACoB,IAAI,iBAAiBC,GAAG,SAASqB,GAAM,MAAO,CAACxD,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI8C,GAAI,mCAAsCU,EAAU,QAAK,aAAa,GAAGpD,EAAG,MAAM,CAACU,YAAY,OAAO,CAACV,EAAG,MAAM,CAACU,YAAY,OAAO,CAACV,EAAG,MAAM,CAACU,YAAY,yDAAyD,CAACV,EAAG,KAAK,CAACU,YAAY,sCAAsC,CAACV,EAAG,eAAe,CAACE,MAAM,CAAC,aAAaN,EAAI2D,KAAK,WAAW3D,EAAIsB,SAASJ,MAAM,CAACC,MAAOnB,EAAe,YAAEoB,SAAS,SAAUC,GAAMrB,EAAIyB,YAAYJ,GAAKE,WAAW,kBAAkB,cACtpKX,EAAkB,G,YC6ItB,G,UAAA,CACEgD,MAAO,CACLpD,MAAO,CACLqD,KAAMC,MACNC,UAAN,GAEItD,OAAJ,CACMoD,KAAMC,MACNC,UAAN,GAEIpD,QAAJ,CACMkD,KAAMG,OACND,UAAN,IAGEP,KAfF,WAgBI,MAAO,CACLS,UAAW,EACXxC,YAAa,EACbH,QAAS,EACTL,YAAa,CAAC,EAAG,GAAI,GAAI,IACzBO,OAAQ,KACRI,SAAU,GACVF,OAAQ,KACRC,UAAU,EACVU,SAAU,OACV6B,iBAAiB,IAGrBC,SAAU,CAIRR,KAJJ,WAKM,OAAO1D,KAAKO,MAAM4D,SAGtBC,QArCF,WAuCIpE,KAAKgE,UAAYhE,KAAKO,MAAM4D,QAE9BE,QAzCF,WAyCA,WACIrE,KAAKsE,OAAOC,SAAS,iBAAiBC,MAAK,SAA/C,gBACM,EAAN,oBAGEC,QAAS,CAIP3C,WAJJ,SAIA,GAEM9B,KAAKgE,UAAYU,EAAcP,OAC/BnE,KAAKwB,YAAc,GAKrB8B,UAZJ,SAYA,GACA,oBACQtD,KAAKsE,OAAOC,SAASvE,KAAKU,QAAQiE,iBAA1C,CACU5B,OAAV,oBACUC,WAAY4B,IAId5E,KAAKsE,OAAOC,SAASvE,KAAKU,QAAQiE,iBAA1C,IAGI,aAvBJ,SAuBA,kKACA,0BADA,SAEA,gDAFA,iDCnNsV,I,YCOlV/D,EAAY,eACd,EACAd,EACAa,GACA,EACA,KACA,WACA,MAIa,OAAAC,E","file":"js/chunk-d32c4cd8.2158268a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',[_c('PageHeader',{attrs:{\"title\":_vm.title,\"items\":_vm.items}}),_c('users-list',{attrs:{\"fields\":_vm.fields,\"items\":_vm.users,\"options\":_vm.options}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <Layout>\n        <PageHeader :title=\"title\" :items=\"items\" />\n        <users-list :fields=\"fields\" :items=\"users\" :options=\"options\" />\n    </Layout>\n</template>\n\n<script>\n  import Layout from \"@/views/layouts/main\";\n  import PageHeader from \"@/components/page-header\";\n  import UsersList from \"@/components/ListingTable\"\n  export default {\n    components: {\n      Layout,\n      PageHeader,\n      UsersList,\n    },\n    data() {\n      return {\n        title: this.$t('pages.users.title'),\n      }\n    },\n    computed:{\n      items(){\n        return [\n          {\n            text: this.$t('menuitems.dashboard.text')\n          },\n          {\n            text: this.$t('pages.users.title'),\n            active: true\n          }\n        ]\n      },\n      fields(){\n        return [\n          {key: \"name\", sortable: true, label:this.$t('tables.users.name')},\n          { key: \"email\", sortable: true, label:this.$t('tables.users.email')},\n          { key: \"role\", sortable: true, label:this.$t('tables.users.role')},\n          { key: \"created\", sortable: true, label:this.$t('tables.users.created')},\n          { key: \"action\" }\n        ]\n      },\n      options(){\n        return {\n          editRouteName:'edit-user',\n          deleteActionName:'users/deleteUserByID',\n          title:this.$t('tables.users.title')\n        }\n      },\n      users(){\n        return this.$store.getters['users/users']\n      }\n    },\n    created(){\n      console.log(this.users);\n      this.$store.dispatch('users/getUsers');\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=adca8da8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"adca8da8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('h4',{staticClass:\"card-title mb-4\"},[_vm._v(_vm._s(_vm.options.title))]),_c('div',{staticClass:\"row mt-4\"},[_c('div',{staticClass:\"col-sm-12 col-md-6\"},[_c('div',{staticClass:\"dataTables_length\",attrs:{\"id\":\"tickets-table_length\"}},[_c('label',{staticClass:\"d-inline-flex align-items-center\"},[_vm._v(\" Show \"),_c('b-form-select',{attrs:{\"size\":\"sm\",\"options\":_vm.pageOptions},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}}),_vm._v(\" entries \")],1)])]),_c('div',{staticClass:\"col-sm-12 col-md-6\"},[_c('div',{staticClass:\"dataTables_filter text-md-right\",attrs:{\"id\":\"tickets-table_filter\"}},[_c('label',{staticClass:\"d-inline-flex align-items-center\"},[_vm._v(\" Search: \"),_c('b-form-input',{staticClass:\"form-control form-control-sm ml-2\",attrs:{\"type\":\"search\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}})],1)])])]),_c('div',{staticClass:\"table-responsive\"},[_c('b-table',{attrs:{\"items\":_vm.items,\"fields\":_vm.fields,\"responsive\":\"sm\",\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"filter\":_vm.filter,\"filter-included-fields\":_vm.filterOn},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event},\"filtered\":_vm.onFiltered},scopedSlots:_vm._u([{key:\"cell(action)\",fn:function(row){return [(_vm.userRole == 'admin' && row.item.status == 'approved' && row.item.path.split('.')[1] != 'pdf')?_c('router-link',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"text-dark mr-2\",attrs:{\"data-toggle\":\"tooltip\",\"title\":_vm.$t('tables.documents.extract'),\"to\":{name:'read-user-document',params:{userID:_vm.options.userID, documentID: row.item.id}}}},[_c('i',{staticClass:\"ri-qr-scan-line font-size-18\"})]):_vm._e(),(_vm.resultIsLoading)?_c('span',[_vm._v(\"Loading\")]):_vm._e(),(_vm.userRole == 'admin' && row.item.email)?_c('router-link',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"text-primary mr-2\",attrs:{\"to\":{name:'user-documents',params:{id:row.item.id}},\"data-toggle\":\"tooltip\",\"title\":_vm.$t('tables.documents.showdocuments')}},[_c('i',{staticClass:\"ri-attachment-line font-size-18\"})]):_vm._e(),(row.item.path)?_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mr-2 text-primary\",attrs:{\"target\":\"_blank\",\"data-toggle\":\"tooltip\",\"title\":_vm.$t('tables.documents.show'),\"href\":(\"http://localhost:3000/\" + (row.item.path.substr(7)))}},[_c('i',{staticClass:\"ri-eye-line font-size-18\"})]):_vm._e(),_c('router-link',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mr-2 text-secondary\",attrs:{\"to\":{name:_vm.options.editRouteName,params:{id:row.item.id}},\"data-toggle\":\"tooltip\",\"title\":_vm.$t('tables.documents.edit')}},[_c('i',{staticClass:\"ri-edit-line font-size-18\"})]),_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"text-danger\",attrs:{\"href\":\"javascript:void(0);\",\"title\":_vm.$t('tables.documents.delete')},on:{\"click\":function($event){return _vm.deleteRow(row.item.id)}}},[_c('i',{staticClass:\"ri-delete-bin-line font-size-18\"})])]}},{key:\"cell(created)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.value ? data.value.substr(0,10) : '')+\" \")]}},{key:\"cell(status)\",fn:function(data){return [_vm._v(\" \"+_vm._s(_vm.$t((\"forms.documents.statusOptions.\" + (data.value))))+\" \")]}},{key:\"cell(role)\",fn:function(data){return [_vm._v(\" \"+_vm._s(_vm.$t((\"forms.users.roleOptions.\" + (data.value))))+\" \")]}},{key:\"cell(approve)\",fn:function(data){return [(data.item.status != 'approved')?_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mr-2 text-success\",attrs:{\"data-toggle\":\"tooltip\",\"title\":\"Approve\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changeStatus({status:'approved',documentID:data.item.id})}}},[_c('i',{staticClass:\"ri-check-line font-size-18\"})]):_vm._e(),_c('a',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mr-2 text-danger\",attrs:{\"data-toggle\":\"tooltip\",\"title\":\"Decline\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changeStatus({status:'declined',documentID:data.item.id})}}},[_c('i',{staticClass:\"ri-close-fill font-size-18\"})])]}},{key:\"cell(language)\",fn:function(data){return [_vm._v(\" \"+_vm._s(_vm.$t((\"forms.documents.languageOptions.\" + (data.value))))+\" \")]}}])})],1),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"dataTables_paginate paging_simple_numbers float-right\"},[_c('ul',{staticClass:\"pagination pagination-rounded mb-0\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.rows,\"per-page\":_vm.perPage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-body\">\n      <h4 class=\"card-title mb-4\">{{options.title}}</h4>\n      <div class=\"row mt-4\">\n        <div class=\"col-sm-12 col-md-6\">\n          <div id=\"tickets-table_length\" class=\"dataTables_length\">\n            <label class=\"d-inline-flex align-items-center\">\n              Show&nbsp;\n              <b-form-select v-model=\"perPage\" size=\"sm\" :options=\"pageOptions\"></b-form-select>&nbsp;entries\n            </label>\n          </div>\n        </div>\n        <!-- Search -->\n        <div class=\"col-sm-12 col-md-6\">\n          <div id=\"tickets-table_filter\" class=\"dataTables_filter text-md-right\">\n            <label class=\"d-inline-flex align-items-center\">\n              Search:\n              <b-form-input\n                v-model=\"filter\"\n                type=\"search\"\n                class=\"form-control form-control-sm ml-2\"\n              ></b-form-input>\n            </label>\n          </div>\n        </div>\n        <!-- End search -->\n      </div>\n      <div class=\"table-responsive\">\n        <b-table\n          :items=\"items\"\n          :fields=\"fields\"\n          responsive=\"sm\"\n          :per-page=\"perPage\"\n          :current-page=\"currentPage\"\n          :sort-by.sync=\"sortBy\"\n          :sort-desc.sync=\"sortDesc\"\n          :filter=\"filter\"\n          :filter-included-fields=\"filterOn\"\n          @filtered=\"onFiltered\"\n        > \n          <template v-slot:cell(action)=\"row\">\n            <router-link\n              v-if=\"userRole == 'admin' && row.item.status == 'approved' && row.item.path.split('.')[1] != 'pdf'\"\n              class=\"text-dark mr-2\"\n              v-b-tooltip.hover\n              data-toggle=\"tooltip\"\n              :title=\"$t('tables.documents.extract')\"\n              :to=\"{name:'read-user-document',params:{userID:options.userID, documentID: row.item.id}}\"\n            >\n              <i class=\"ri-qr-scan-line font-size-18\"></i>\n            </router-link>\n            <span v-if=\"resultIsLoading\">Loading</span>\n            <router-link\n              v-if=\"userRole == 'admin' && row.item.email\"\n              :to=\"{name:'user-documents',params:{id:row.item.id}}\"\n              class=\"text-primary mr-2\"\n              v-b-tooltip.hover\n              data-toggle=\"tooltip\"\n              :title=\"$t('tables.documents.showdocuments')\"\n            >\n              <i class=\"ri-attachment-line font-size-18\"></i>\n            </router-link>\n            <a\n            v-if=\"row.item.path\" \n            class=\"mr-2 text-primary\"\n            target=\"_blank\" \n            v-b-tooltip.hover\n            data-toggle=\"tooltip\"\n            :title=\"$t('tables.documents.show')\"\n            :href=\"`http://localhost:3000/${row.item.path.substr(7)}`\">\n              <i class=\"ri-eye-line font-size-18\"></i>\n            </a>\n            <router-link\n              :to=\"{name:options.editRouteName,params:{id:row.item.id}}\"\n              class=\"mr-2 text-secondary\"\n              v-b-tooltip.hover\n              data-toggle=\"tooltip\"\n              :title=\"$t('tables.documents.edit')\"\n            >\n            <i class=\"ri-edit-line font-size-18\"></i>\n            </router-link>\n            <a \n              @click=\"deleteRow(row.item.id)\" \n              href=\"javascript:void(0);\" \n              class=\"text-danger\" \n              v-b-tooltip.hover \n              :title=\"$t('tables.documents.delete')\"\n            >\n              <i class=\"ri-delete-bin-line font-size-18\"></i>\n            </a>\n          </template>\n          <template #cell(created)=\"data\">\n            {{ data.value ? data.value.substr(0,10) : ''}}\n          </template>\n          <template #cell(status)=\"data\">\n            {{ $t(`forms.documents.statusOptions.${data.value}`) }}\n          </template>\n          <template #cell(role)=\"data\">\n            {{ $t(`forms.users.roleOptions.${data.value}`) }}\n          </template>\n          <template #cell(approve)=\"data\">\n            <a\n              v-if=\"data.item.status != 'approved'\"\n              @click.prevent=\"changeStatus({status:'approved',documentID:data.item.id})\"\n              class=\"mr-2 text-success\"\n              v-b-tooltip.hover\n              data-toggle=\"tooltip\"\n              title=\"Approve\"\n            >\n              <i class=\"ri-check-line font-size-18\"></i>\n            </a>\n            <a \n              @click.prevent=\"changeStatus({status:'declined',documentID:data.item.id})\"\n              class=\"mr-2 text-danger\"\n              v-b-tooltip.hover\n              data-toggle=\"tooltip\"\n              title=\"Decline\"\n            >      \n              <i class=\"ri-close-fill font-size-18\"></i>   \n            </a>\n          </template>\n          <template #cell(language)=\"data\">\n            {{$t(`forms.documents.languageOptions.${data.value}`)}}\n          </template>\n        </b-table>\n      </div>\n      <div class=\"row\">\n        <div class=\"col\">\n          <div class=\"dataTables_paginate paging_simple_numbers float-right\">\n            <ul class=\"pagination pagination-rounded mb-0\">\n              <!-- pagination -->\n              <b-pagination v-model=\"currentPage\" :total-rows=\"rows\" :per-page=\"perPage\"></b-pagination>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n  props: {\n    items: {\n      type: Array,\n      required:true\n    },\n    fields:{\n      type: Array,\n      required:true\n    },\n    options:{\n      type: Object,\n      required:true\n    }\n  },\n  data() {\n    return {\n      totalRows: 1,\n      currentPage: 1,\n      perPage: 5,\n      pageOptions: [5, 10, 25, 50],\n      filter: null,\n      filterOn: [],\n      sortBy: \"id\",\n      sortDesc: false,\n      userRole: 'user',\n      resultIsLoading: false,\n    };\n  },\n  computed: {\n    /**\n     * Total no. of records\n     */\n    rows() {\n      return this.items.length;\n    },\n  },\n  mounted() {\n    // Set the initial number of items\n    this.totalRows = this.items.length;\n  },\n  created(){\n    this.$store.dispatch('auth/validate').then( ({user}) => {\n      this.userRole = user.role;\n    });\n  },\n  methods: {\n    /**\n     * Search the table data with search input\n     */\n    onFiltered(filteredItems) {\n      // Trigger pagination to update the number of buttons/pages due to filtering\n      this.totalRows = filteredItems.length;\n      this.currentPage = 1;\n    },\n    /**\n     * @brief Delete farmer when delete button is clicked \n     */\n    deleteRow(rowId){\n      if(this.options.userID){\n        this.$store.dispatch(this.options.deleteActionName,{\n          userID:this.options.userID,\n          documentID: rowId\n        });\n      }\n      else{\n        this.$store.dispatch(this.options.deleteActionName,rowId);\n      }\n    },\n    async changeStatus(payload){\n      payload.userID = this.options.userID;\n      await this.$store.dispatch('users/updateUserDocument', payload);\n    }\n  }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListingTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListingTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListingTable.vue?vue&type=template&id=587a4f5b&scoped=true&\"\nimport script from \"./ListingTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ListingTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"587a4f5b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}